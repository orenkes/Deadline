{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\orenk\\\\Desktop\\\\Netcraft\\\\projects\\\\tracker\\\\tracker\\\\src\\\\view\\\\Login\\\\Login.jsx\";\nimport React from \"react\";\nimport styled from \"styled-components\";\nimport { flexbox } from \"../../style/mixins\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Redirect, Link } from \"react-router-dom\";\nimport * as c from \"../../style/colors\";\nimport { getUserAction } from \"../../state/actions/getUserAction\";\nimport { isLoggedAction } from \"../../state/actions/isLoggedAction\";\n\nconst Login = () => {\n  const isLogged = useSelector(state => state.isLoggedReducer);\n  const dispatch = useDispatch();\n  const LogedUserToken = localStorage.getItem(\"token\");\n\n  if (LogedUserToken) {\n    const getMethod = {\n      method: \"GET\",\n      headers: {\n        \"Content-type\": \"application/json; charset=UTF-8\",\n        \"auth-token\": localStorage.getItem(\"token\")\n      }\n    };\n\n    const fetchLogedUser = (async () => {\n      const userData = await fetch(`https://tracker-database.youngwebdevs.now.sh/login/getuser/`, getMethod);\n      localStorage.setItem(\"token\", userData.headers.get(\"auth-token\"));\n      const jsonUserData = await userData.json();\n      dispatch(getUserAction(jsonUserData));\n      dispatch(isLoggedAction(jsonUserData));\n    })();\n  }\n\n  const sendForm = async e => {\n    e.preventDefault();\n    const userName = e.target[0].value;\n    const userPassword = e.target[1].value;\n\n    try {\n      const userData = await fetch(`https://tracker-database.youngwebdevs.now.sh/login/userfromdb/?userName=${userName}&password=${userPassword}`);\n      localStorage.setItem(\"token\", userData.headers.get(\"auth-token\"));\n      const jsonUserData = await userData.json(); // dispatch({ type: \"IMPORTUSER\", payload: jsonUserData });\n\n      dispatch(getUserAction(jsonUserData));\n      dispatch(isLoggedAction(jsonUserData));\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return (// <Route path=\"/addpost\">{loggedIn ? <AddPost /> : <Login />}</Route>\n    React.createElement(Wrapper, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, isLogged === true && React.createElement(Redirect, {\n      push: true,\n      to: \"/dashboard\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }), React.createElement(Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, \"Dead\", React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, \"l\"), \"ine\"), React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(FormBox, {\n      onSubmit: sendForm,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(EmailInput, {\n      type: \"text\",\n      placeholder: \"User Name...\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }), React.createElement(PasswordInput, {\n      type: \"password\",\n      placeholder: \"Password...\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }), React.createElement(LoginButton, {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"Log In\"), React.createElement(SignUpButton, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(StyledLink, {\n      to: \"/signup\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"Sign Up\")), React.createElement(GuestButton, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, \"Log In as Guest\"))))\n  );\n};\n\nexport default Login;\nconst Wrapper = styled.div`\n  height: 100%;\n  width: 100%;\n  display: flex;\n  justify-content: space-evenly;\n  align-items: center;\n  flex-direction: column;\n\n  color: ${c.darkText};\n`;\nconst Header = styled.div`\n  flex-basis: 10%;\n  font-size: 4rem;\n  font-family: \"Titillium Web\", sans-serif;\n  color: ${c.darkBlueText};\n  span {\n    color: red;\n  }\n`;\nconst Container = styled.div`\n  flex-basis: 65%;\n  width: 80%;\n  border-radius: 15px;\n  box-shadow: -6px -6px 20px 0 rgba(242, 248, 250, 0.9),\n    6px 6px 16px 0 rgba(54, 73, 79, 0.25);\n  border: 1px solid rgba(242, 248, 250, 0.2);\n  padding: 20px;\n\n  max-height: 375px;\n  max-width: 400px;\n\n  font-family: \"Montserrat\", sans-serif;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\nconst FormBox = styled.form`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: center;\n\n  width: 90%;\n  height: 100%;\n`;\nconst EmailInput = styled.input`\n  width: 100%;\n  height: 15%;\n  border-radius: 5px;\n  border: none;\n  background: rgba(242, 248, 250, 0.55);\n  box-shadow: inset 2px 2px 6px rgba(54, 73, 79, 0.25),\n    inset -2px -2px 8px rgba(242, 248, 250, 0.9);\n  padding-left: 10px;\n  font-size: 0.8rem;\n  color: ${c.darkBlueText};\n\n  opacity: 0.7;\n  transition: 0.3s ease-out;\n\n  outline: none;\n\n  &:hover,\n  &:focus {\n    opacity: 1;\n  }\n`;\nconst PasswordInput = styled(EmailInput)`\n  margin-bottom: 10px;\n`;\nconst LoginButton = styled.button`\n  width: 65%;\n  height: 11%;\n  border-radius: 5px;\n  box-shadow: -3px -3px 6px 0 rgba(242, 248, 250, 1),\n    3px 3px 6px 0 rgba(54, 73, 79, 0.25);\n  border: none;\n  background: ${c.shyBlue};\n  font-size: 0.9rem;\n  margin-bottom: 5px;\n  color: ${c.darkBlueText};\n  text-shadow: 0 0 1px white;\n  opacity: 0.5;\n  transition: 0.3s ease-out;\n\n  outline: none;\n\n  &:hover,\n  &:focus {\n    opacity: 0.9;\n    cursor: pointer;\n    background: ${c.lightBlue};\n  }\n`;\nconst SignUpButton = styled.div`\n  ${flexbox()};\n  width: 65%;\n  height: 11%;\n  border-radius: 5px;\n  box-shadow: -3px -3px 6px 0 rgba(242, 248, 250, 1),\n    3px 3px 6px 0 rgba(54, 73, 79, 0.25);\n  border: none;\n  background: ${c.shyBlue};\n  font-size: 0.9rem;\n  margin-bottom: 5px;\n  color: ${c.darkBlueText};\n  text-shadow: 0 0 1px white;\n  opacity: 0.5;\n  transition: 0.3s ease-out;\n\n  outline: none;\n\n  &:hover,\n  &:focus {\n    opacity: 0.9;\n    cursor: pointer;\n    background: ${c.lightBlue};\n  }\n`;\nconst GuestButton = styled(SignUpButton)``;\nconst StyledLink = styled(Link)`\n  ${flexbox()};\n  height: 100%;\n  width: 100%;\n  text-decoration: none;\n  color: inherit;\n`;","map":{"version":3,"sources":["C:/Users/orenk/Desktop/Netcraft/projects/tracker/tracker/src/view/Login/Login.jsx"],"names":["React","styled","flexbox","useDispatch","useSelector","Redirect","Link","c","getUserAction","isLoggedAction","Login","isLogged","state","isLoggedReducer","dispatch","LogedUserToken","localStorage","getItem","getMethod","method","headers","fetchLogedUser","userData","fetch","setItem","get","jsonUserData","json","sendForm","e","preventDefault","userName","target","value","userPassword","error","console","log","Wrapper","div","darkText","Header","darkBlueText","Container","FormBox","form","EmailInput","input","PasswordInput","LoginButton","button","shyBlue","lightBlue","SignUpButton","GuestButton","StyledLink"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { flexbox } from \"../../style/mixins\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Redirect, Link } from \"react-router-dom\";\r\nimport * as c from \"../../style/colors\";\r\n\r\nimport { getUserAction } from \"../../state/actions/getUserAction\";\r\nimport { isLoggedAction } from \"../../state/actions/isLoggedAction\";\r\n\r\nconst Login = () => {\r\n  const isLogged = useSelector(state => state.isLoggedReducer);\r\n  const dispatch = useDispatch();\r\n\r\n  const LogedUserToken = localStorage.getItem(\"token\");\r\n\r\n  if (LogedUserToken) {\r\n    const getMethod = {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-type\": \"application/json; charset=UTF-8\",\r\n        \"auth-token\": localStorage.getItem(\"token\")\r\n      }\r\n    };\r\n\r\n    const fetchLogedUser = (async () => {\r\n      const userData = await fetch(\r\n        `https://tracker-database.youngwebdevs.now.sh/login/getuser/`,\r\n        getMethod\r\n      );\r\n      localStorage.setItem(\"token\", userData.headers.get(\"auth-token\"));\r\n      const jsonUserData = await userData.json();\r\n      dispatch(getUserAction(jsonUserData));\r\n      dispatch(isLoggedAction(jsonUserData));\r\n    })();\r\n  }\r\n\r\n  const sendForm = async e => {\r\n    e.preventDefault();\r\n    const userName = e.target[0].value;\r\n    const userPassword = e.target[1].value;\r\n\r\n    try {\r\n      const userData = await fetch(\r\n        `https://tracker-database.youngwebdevs.now.sh/login/userfromdb/?userName=${userName}&password=${userPassword}`\r\n      );\r\n      localStorage.setItem(\"token\", userData.headers.get(\"auth-token\"));\r\n      const jsonUserData = await userData.json();\r\n      // dispatch({ type: \"IMPORTUSER\", payload: jsonUserData });\r\n      dispatch(getUserAction(jsonUserData));\r\n      dispatch(isLoggedAction(jsonUserData));\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    // <Route path=\"/addpost\">{loggedIn ? <AddPost /> : <Login />}</Route>\r\n    <Wrapper>\r\n      {isLogged === true && <Redirect push to=\"/dashboard\" />}\r\n      <Header>\r\n        Dead<span>l</span>ine\r\n      </Header>\r\n      <Container>\r\n        <FormBox onSubmit={sendForm}>\r\n          <EmailInput type=\"text\" placeholder=\"User Name...\" />\r\n          <PasswordInput type=\"password\" placeholder=\"Password...\" />\r\n          <LoginButton type=\"submit\">Log In</LoginButton>\r\n          <SignUpButton>\r\n            <StyledLink to=\"/signup\">Sign Up</StyledLink>\r\n          </SignUpButton>\r\n          <GuestButton>Log In as Guest</GuestButton>\r\n        </FormBox>\r\n      </Container>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n\r\nconst Wrapper = styled.div`\r\n  height: 100%;\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: space-evenly;\r\n  align-items: center;\r\n  flex-direction: column;\r\n\r\n  color: ${c.darkText};\r\n`;\r\n\r\nconst Header = styled.div`\r\n  flex-basis: 10%;\r\n  font-size: 4rem;\r\n  font-family: \"Titillium Web\", sans-serif;\r\n  color: ${c.darkBlueText};\r\n  span {\r\n    color: red;\r\n  }\r\n`;\r\n\r\nconst Container = styled.div`\r\n  flex-basis: 65%;\r\n  width: 80%;\r\n  border-radius: 15px;\r\n  box-shadow: -6px -6px 20px 0 rgba(242, 248, 250, 0.9),\r\n    6px 6px 16px 0 rgba(54, 73, 79, 0.25);\r\n  border: 1px solid rgba(242, 248, 250, 0.2);\r\n  padding: 20px;\r\n\r\n  max-height: 375px;\r\n  max-width: 400px;\r\n\r\n  font-family: \"Montserrat\", sans-serif;\r\n\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nconst FormBox = styled.form`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n\r\n  width: 90%;\r\n  height: 100%;\r\n`;\r\n\r\nconst EmailInput = styled.input`\r\n  width: 100%;\r\n  height: 15%;\r\n  border-radius: 5px;\r\n  border: none;\r\n  background: rgba(242, 248, 250, 0.55);\r\n  box-shadow: inset 2px 2px 6px rgba(54, 73, 79, 0.25),\r\n    inset -2px -2px 8px rgba(242, 248, 250, 0.9);\r\n  padding-left: 10px;\r\n  font-size: 0.8rem;\r\n  color: ${c.darkBlueText};\r\n\r\n  opacity: 0.7;\r\n  transition: 0.3s ease-out;\r\n\r\n  outline: none;\r\n\r\n  &:hover,\r\n  &:focus {\r\n    opacity: 1;\r\n  }\r\n`;\r\nconst PasswordInput = styled(EmailInput)`\r\n  margin-bottom: 10px;\r\n`;\r\n\r\nconst LoginButton = styled.button`\r\n  width: 65%;\r\n  height: 11%;\r\n  border-radius: 5px;\r\n  box-shadow: -3px -3px 6px 0 rgba(242, 248, 250, 1),\r\n    3px 3px 6px 0 rgba(54, 73, 79, 0.25);\r\n  border: none;\r\n  background: ${c.shyBlue};\r\n  font-size: 0.9rem;\r\n  margin-bottom: 5px;\r\n  color: ${c.darkBlueText};\r\n  text-shadow: 0 0 1px white;\r\n  opacity: 0.5;\r\n  transition: 0.3s ease-out;\r\n\r\n  outline: none;\r\n\r\n  &:hover,\r\n  &:focus {\r\n    opacity: 0.9;\r\n    cursor: pointer;\r\n    background: ${c.lightBlue};\r\n  }\r\n`;\r\n\r\nconst SignUpButton = styled.div`\r\n  ${flexbox()};\r\n  width: 65%;\r\n  height: 11%;\r\n  border-radius: 5px;\r\n  box-shadow: -3px -3px 6px 0 rgba(242, 248, 250, 1),\r\n    3px 3px 6px 0 rgba(54, 73, 79, 0.25);\r\n  border: none;\r\n  background: ${c.shyBlue};\r\n  font-size: 0.9rem;\r\n  margin-bottom: 5px;\r\n  color: ${c.darkBlueText};\r\n  text-shadow: 0 0 1px white;\r\n  opacity: 0.5;\r\n  transition: 0.3s ease-out;\r\n\r\n  outline: none;\r\n\r\n  &:hover,\r\n  &:focus {\r\n    opacity: 0.9;\r\n    cursor: pointer;\r\n    background: ${c.lightBlue};\r\n  }\r\n`;\r\nconst GuestButton = styled(SignUpButton)``;\r\n\r\nconst StyledLink = styled(Link)`\r\n  ${flexbox()};\r\n  height: 100%;\r\n  width: 100%;\r\n  text-decoration: none;\r\n  color: inherit;\r\n`;\r\n"]},"metadata":{},"sourceType":"module"}